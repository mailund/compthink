library(ggplot2)
library(tibble)
library(ggrepel)

d <- tribble(
  ~repr,             ~number,
 "1.1[2] %*% 2^-11[2]", 2**-3 + 2**-4,
 "1.0[2] %*% 2^-11[2]", 2**-3,
 "1.1[2] %*% 2^-10[2]", 2**-2 + 2**-3,
 "1.0[2] %*% 2^-10[2]", 2**-2,
 "1.1[2] %*% 2^-01[2]", 2**-1 + 2**-2,
 "1.0[2] %*% 2^-01[2]", 2**-1,
 "1.0[2] %*% 2^00[2]",   1,
 "1.1[2] %*% 2^00[2]",   1 + 2**-1,
 "0.0[2] %*% 2^00[2]",   0,
 "1.1[2] %*% 2^01[2]",   2 + 1,
 "1.0[2] %*% 2^01[2]",   2,
 "1.1[2] %*% 2^10[2]",   2**2 + 2**1,
 "1.0[2] %*% 2^10[2]",   2**2,
 "1.1[2] %*% 2^11[2]",   2**3 + 2**2,
 "1.0[2] %*% 2^11[2]",   2**3,

 "-1.1[2] %*% 2^-11[2]", -(2**-3 + 2**-4),
 "-1.0[2] %*% 2^-11[2]", -(2**-3),
 "-1.1[2] %*% 2^-10[2]", -(2**-2 + 2**-3),
 "-1.0[2] %*% 2^-10[2]", -(2**-2),
 "-1.1[2] %*% 2^-01[2]", -(2**-1 + 2**-2),
 "-1.0[2] %*% 2^-01[2]", -(2**-1),
 "-1.0[2] %*% 2^00[2]",   -1,
 "-1.1[2] %*% 2^00[2]",   -(1 + 2**-1),
 "-1.1[2] %*% 2^01[2]",  -(2 + 1),
 "-1.0[2] %*% 2^01[2]",  -2,
 "-1.1[2] %*% 2^10[2]",  -(2**2 + 2**1),
 "-1.0[2] %*% 2^10[2]",  -2**2,
 "-1.1[2] %*% 2^11[2]",  -(2**3 + 2**2),
 "-1.0[2] %*% 2^11[2]",  -2**3
)

ggplot(d) +
  geom_text_repel(aes(x = number, y = -0.1, label = number),
                  parse = TRUE,
                  angle = 0,
                  ylim = c(NA, -0.1)) +
  geom_text_repel(aes(x = number, y = 0.1, label = repr),
                  angle = 0,
                  parse = TRUE, direction = "both", #angle = 90,
                  ylim = c(0.1, NA)) +
  geom_hline(yintercept = 0) +
  coord_cartesian(ylim = c(-2, 2)) +
  labs(x = NULL, y = NULL) +
  theme_classic() +
  theme(axis.line.y = element_blank(), axis.line.x = element_blank(),
        axis.ticks = element_blank(),
        axis.text = element_blank())

ggsave("../figures/number-line.pdf", width = 10, height = 6)
